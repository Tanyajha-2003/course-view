{"ast":null,"code":"\n// import React, {useEffect, useState} from 'react';\n// import { useParams } from 'react-router-dom';\n// import API from '../api';\n\n// export default function CoursePage() {\n//   const { id } = useParams();\n//   const [course, setCourse] = useState(null);\n//   const [sections, setSections] = useState([]);\n//   const [videos, setVideos] = useState([]);\n//   const [selectedVideo, setSelectedVideo] = useState(null);\n\n//   useEffect(() => {\n//     API.get('/courses/' + id).then((r) => {\n//       setCourse(r.data.course);\n//     });\n//   }, [id]);\n\n//   const handleEnroll = async () => {\n//     await API.post(`/courses/${id}/enroll`);\n//     const secs = await API.get(`/courses/${id}/sections`);\n//     setSections(secs.data);\n//   };\n\n//   const loadVideos = async (sectionId) => {\n//     const res = await API.get(`/courses/section/${sectionId}/videos`);\n//     setVideos(res.data);\n\n//     // auto-select first video\n//     if (res.data.length > 0) {\n//       setSelectedVideo(res.data[0]);\n//     }\n//   };\n\n//   // Convert normal YouTube URL â†’ embed URL\n//   const getEmbedUrl = (url) => {\n//     if (!url) return \"\";\n//     const videoId = url.split(\"v=\")[1];\n//     return `https://www.youtube.com/embed/${videoId}`;\n//   };\n\n//   return (\n//     <div className=\"container mt-4\">\n\n//       {!course ? (\n//         <p>Loading...</p>\n//       ) : (\n//         <>\n//           <h2>{course.title}</h2>\n//           <p>{course.description}</p>\n\n//           <button className=\"btn btn-success mb-3\" onClick={handleEnroll}>\n//             Enroll\n//           </button>\n\n//           <div className=\"row\">\n\n//             {/* Left Column â€“ Sections */}\n//             <div className=\"col-md-4\">\n//               <h5>Sections</h5>\n//               <ul className=\"list-group\">\n//                 {sections.map((s) => (\n//                   <li key={s._id} className=\"list-group-item\">\n//                     <button\n//                       className=\"btn btn-link p-0\"\n//                       onClick={() => loadVideos(s._id)}\n//                     >\n//                       {s.title}\n//                     </button>\n//                   </li>\n//                 ))}\n//               </ul>\n\n//               {/* Videos List */}\n//               <h6 className=\"mt-3\">Videos</h6>\n//               <ul className=\"list-group\">\n//                 {videos.map((v) => (\n//                   <li\n//                     key={v._id}\n//                     className=\"list-group-item\"\n//                     onClick={() => setSelectedVideo(v)}\n//                     style={{ cursor: \"pointer\" }}\n//                   >\n//                     ðŸ“º {v.title}\n//                   </li>\n//                 ))}\n//               </ul>\n//             </div>\n\n//             {/* Right Column â€“ Video Player */}\n//             <div className=\"col-md-8\">\n//               {selectedVideo ? (\n//                 <iframe\n//                   className=\"w-100\"\n//                   style={{ height: 400 }}\n//                   src={getEmbedUrl(selectedVideo.url)}\n//                   title=\"YouTube video player\"\n//                   allowFullScreen\n//                 />\n//               ) : (\n//                 <p>Select a section and video</p>\n//               )}\n//             </div>\n\n//           </div>\n//         </>\n//       )}\n\n//     </div>\n//   );\n// }\n\n// import React, { useEffect, useState } from 'react';\n// import { useParams } from 'react-router-dom';\n// import API from '../api';\n\n// export default function CoursePage() {\n//   const { id } = useParams();\n//   const [course, setCourse] = useState(null);\n//   const [sections, setSections] = useState([]);\n//   const [videos, setVideos] = useState([]);\n//   const [selectedVideoId, setSelectedVideoId] = useState(null);\n\n//   useEffect(() => {\n//     API.get('/courses/' + id).then((r) => {\n//       setCourse(r.data.course);\n//     });\n//   }, [id]);\n\n//   const handleEnroll = async () => {\n//     await API.post(`/courses/${id}/enroll`);\n//     const res = await API.get(`/courses/${id}/sections`);\n//     setSections(res.data);\n//   };\n\n//   const loadVideos = async (sectionId) => {\n//     const res = await API.get(`/courses/section/${sectionId}/videos`);\n//     setVideos(res.data);\n\n//     // Auto-load first video\n//     if (res.data.length > 0) {\n//       setSelectedVideoId(res.data[0]._id);\n//     }\n//   };\n\n//   return (\n//     <div className=\"container mt-4\">\n//       {!course ? (\n//         <p>Loading...</p>\n//       ) : (\n//         <>\n//           <h2>{course.title}</h2>\n//           <p>{course.description}</p>\n\n//           <button className=\"btn btn-success mb-3\" onClick={handleEnroll}>\n//             Enroll\n//           </button>\n\n//           <div className=\"row\">\n\n//             {/* LEFT â€” Sections */}\n//             <div className=\"col-md-4\">\n//               <h5>Sections</h5>\n//               <ul className=\"list-group\">\n//                 {sections.map((s) => (\n//                   <li key={s._id} className=\"list-group-item\">\n//                     <button\n//                       className=\"btn btn-link p-0\"\n//                       onClick={() => loadVideos(s._id)}\n//                     >\n//                       {s.title}\n//                     </button>\n//                   </li>\n//                 ))}\n//               </ul>\n\n//               {/* Video list */}\n//               <h6 className=\"mt-3\">Videos</h6>\n//               <ul className=\"list-group\">\n//                 {videos.map((v) => (\n//                   <li\n//                     key={v._id}\n//                     className=\"list-group-item\"\n//                     style={{ cursor: 'pointer' }}\n//                     onClick={() => setSelectedVideoId(v._id)}\n//                   >\n//                     ðŸŽ¬ {v.title}\n//                   </li>\n//                 ))}\n//               </ul>\n//             </div>\n\n//             {/* RIGHT â€” Video Player */}\n//             <div className=\"col-md-8\">\n//               {selectedVideoId ? (\n//                 <iframe\n//                   className=\"w-100\"\n//                   style={{ height: 400 }}\n//                   src={`/api/courses/video/${selectedVideoId}`}\n//                   title=\"course-video\"\n//                   allow=\"fullscreen\"\n//                 ></iframe>\n//               ) : (\n//                 <p>Select a section, then a video.</p>\n//               )}\n//             </div>\n\n//           </div>\n//         </>\n//       )}\n//     </div>\n//   );\n// }","map":{"version":3,"names":[],"sources":["/Users/tanyakumari/Downloads/imarticus_lms_project/frontend/src/pages/CoursePage.js"],"sourcesContent":["\n// import React, {useEffect, useState} from 'react';\n// import { useParams } from 'react-router-dom';\n// import API from '../api';\n\n// export default function CoursePage() {\n//   const { id } = useParams();\n//   const [course, setCourse] = useState(null);\n//   const [sections, setSections] = useState([]);\n//   const [videos, setVideos] = useState([]);\n//   const [selectedVideo, setSelectedVideo] = useState(null);\n\n//   useEffect(() => {\n//     API.get('/courses/' + id).then((r) => {\n//       setCourse(r.data.course);\n//     });\n//   }, [id]);\n\n//   const handleEnroll = async () => {\n//     await API.post(`/courses/${id}/enroll`);\n//     const secs = await API.get(`/courses/${id}/sections`);\n//     setSections(secs.data);\n//   };\n\n//   const loadVideos = async (sectionId) => {\n//     const res = await API.get(`/courses/section/${sectionId}/videos`);\n//     setVideos(res.data);\n\n//     // auto-select first video\n//     if (res.data.length > 0) {\n//       setSelectedVideo(res.data[0]);\n//     }\n//   };\n\n//   // Convert normal YouTube URL â†’ embed URL\n//   const getEmbedUrl = (url) => {\n//     if (!url) return \"\";\n//     const videoId = url.split(\"v=\")[1];\n//     return `https://www.youtube.com/embed/${videoId}`;\n//   };\n\n//   return (\n//     <div className=\"container mt-4\">\n\n//       {!course ? (\n//         <p>Loading...</p>\n//       ) : (\n//         <>\n//           <h2>{course.title}</h2>\n//           <p>{course.description}</p>\n\n//           <button className=\"btn btn-success mb-3\" onClick={handleEnroll}>\n//             Enroll\n//           </button>\n\n//           <div className=\"row\">\n\n//             {/* Left Column â€“ Sections */}\n//             <div className=\"col-md-4\">\n//               <h5>Sections</h5>\n//               <ul className=\"list-group\">\n//                 {sections.map((s) => (\n//                   <li key={s._id} className=\"list-group-item\">\n//                     <button\n//                       className=\"btn btn-link p-0\"\n//                       onClick={() => loadVideos(s._id)}\n//                     >\n//                       {s.title}\n//                     </button>\n//                   </li>\n//                 ))}\n//               </ul>\n\n//               {/* Videos List */}\n//               <h6 className=\"mt-3\">Videos</h6>\n//               <ul className=\"list-group\">\n//                 {videos.map((v) => (\n//                   <li\n//                     key={v._id}\n//                     className=\"list-group-item\"\n//                     onClick={() => setSelectedVideo(v)}\n//                     style={{ cursor: \"pointer\" }}\n//                   >\n//                     ðŸ“º {v.title}\n//                   </li>\n//                 ))}\n//               </ul>\n//             </div>\n\n//             {/* Right Column â€“ Video Player */}\n//             <div className=\"col-md-8\">\n//               {selectedVideo ? (\n//                 <iframe\n//                   className=\"w-100\"\n//                   style={{ height: 400 }}\n//                   src={getEmbedUrl(selectedVideo.url)}\n//                   title=\"YouTube video player\"\n//                   allowFullScreen\n//                 />\n//               ) : (\n//                 <p>Select a section and video</p>\n//               )}\n//             </div>\n\n//           </div>\n//         </>\n//       )}\n\n//     </div>\n//   );\n// }\n\n// import React, { useEffect, useState } from 'react';\n// import { useParams } from 'react-router-dom';\n// import API from '../api';\n\n// export default function CoursePage() {\n//   const { id } = useParams();\n//   const [course, setCourse] = useState(null);\n//   const [sections, setSections] = useState([]);\n//   const [videos, setVideos] = useState([]);\n//   const [selectedVideoId, setSelectedVideoId] = useState(null);\n\n//   useEffect(() => {\n//     API.get('/courses/' + id).then((r) => {\n//       setCourse(r.data.course);\n//     });\n//   }, [id]);\n\n//   const handleEnroll = async () => {\n//     await API.post(`/courses/${id}/enroll`);\n//     const res = await API.get(`/courses/${id}/sections`);\n//     setSections(res.data);\n//   };\n\n//   const loadVideos = async (sectionId) => {\n//     const res = await API.get(`/courses/section/${sectionId}/videos`);\n//     setVideos(res.data);\n\n//     // Auto-load first video\n//     if (res.data.length > 0) {\n//       setSelectedVideoId(res.data[0]._id);\n//     }\n//   };\n\n//   return (\n//     <div className=\"container mt-4\">\n//       {!course ? (\n//         <p>Loading...</p>\n//       ) : (\n//         <>\n//           <h2>{course.title}</h2>\n//           <p>{course.description}</p>\n\n//           <button className=\"btn btn-success mb-3\" onClick={handleEnroll}>\n//             Enroll\n//           </button>\n\n//           <div className=\"row\">\n\n//             {/* LEFT â€” Sections */}\n//             <div className=\"col-md-4\">\n//               <h5>Sections</h5>\n//               <ul className=\"list-group\">\n//                 {sections.map((s) => (\n//                   <li key={s._id} className=\"list-group-item\">\n//                     <button\n//                       className=\"btn btn-link p-0\"\n//                       onClick={() => loadVideos(s._id)}\n//                     >\n//                       {s.title}\n//                     </button>\n//                   </li>\n//                 ))}\n//               </ul>\n\n//               {/* Video list */}\n//               <h6 className=\"mt-3\">Videos</h6>\n//               <ul className=\"list-group\">\n//                 {videos.map((v) => (\n//                   <li\n//                     key={v._id}\n//                     className=\"list-group-item\"\n//                     style={{ cursor: 'pointer' }}\n//                     onClick={() => setSelectedVideoId(v._id)}\n//                   >\n//                     ðŸŽ¬ {v.title}\n//                   </li>\n//                 ))}\n//               </ul>\n//             </div>\n\n//             {/* RIGHT â€” Video Player */}\n//             <div className=\"col-md-8\">\n//               {selectedVideoId ? (\n//                 <iframe\n//                   className=\"w-100\"\n//                   style={{ height: 400 }}\n//                   src={`/api/courses/video/${selectedVideoId}`}\n//                   title=\"course-video\"\n//                   allow=\"fullscreen\"\n//                 ></iframe>\n//               ) : (\n//                 <p>Select a section, then a video.</p>\n//               )}\n//             </div>\n\n//           </div>\n//         </>\n//       )}\n//     </div>\n//   );\n// }\n"],"mappings":";AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}